<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How Image Builder uses the AWS Task Orchestrator and Executor application to manage components - EC2 Image Builder</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="toe-component-manager" /><meta name="default_state" content="toe-component-manager" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html" /><meta name="description" content="How Image Builder uses the AWSTOE component manager application to orchestrate workflows, modify system configurations, and test your images." /><meta name="deployment_region" content="IAD" /><meta name="product" content="EC2 Image Builder" /><meta name="guide" content="User Guide" /><meta name="abstract" content="EC2 Image Builder is a fully managed AWS service that makes it more efficient to automate creating, managing, and deploying customized, secure, and up-to-date server images that are pre-installed and pre-configured with software and settings to meet specific IT standards." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/imagebuilder/latest/userguide/toe-component-manager.html" hreflang="x-default" /><meta name="feedback-item" content="Image Builder" /><meta name="this_doc_product" content="EC2 Image Builder" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'imagebuilder'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="How Image Builder uses the AWS Task Orchestrator and Executor application to manage components" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>How Image Builder uses the AWS Task Orchestrator and Executor application to manage components - EC2 Image Builder</title><meta name="pdf" content="/pdfs/imagebuilder/latest/userguide/imagebuilder-ug.pdf#toe-component-manager" /><meta name="rss" content="ec2-image-builder-release-notes.rss" /><meta name="forums" content="https://repost.aws/tags/TAZtkgNAX7Q9OYs3rXXBxVlw" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Image%20Builder&amp;topic_url=https://docs.aws.amazon.com/en_us/imagebuilder/latest/userguide/toe-component-manager.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/imagebuilder/latest/userguide/toe-component-manager.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/imagebuilder/latest/userguide/toe-component-manager.html" /><meta name="keywords" content="create custom Amazon machine images with EC2 Image Builder,use components customize image builder images,learn how image builder uses awstoe component manager application manage components" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "EC2 Image Builder",
        "item" : "https://docs.aws.amazon.com/imagebuilder/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/imagebuilder/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Use components to customize your Image Builder image",
        "item" : "https://docs.aws.amazon.com/imagebuilder/latest/userguide/manage-components.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "How Image Builder uses the AWS Task Orchestrator and Executor application to manage components",
        "item" : "https://docs.aws.amazon.com/imagebuilder/latest/userguide/manage-components.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/imagebuilder/latest/userguide/imagebuilder-ug.pdf#toe-component-manager" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/imagebuilder/index.html">EC2 Image Builder</a><a href="what-is-image-builder.html">User Guide</a></div><div id="page-toc-src"><a href="#toe-downloads">AWSTOE downloads</a><a href="#toe-supported-regions">Supported Regions</a><a href="#toe-commands">Command reference</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="toe-component-manager">How Image Builder uses the AWS Task Orchestrator and Executor application to manage components</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>EC2 Image Builder uses the AWS Task Orchestrator and Executor (AWSTOE) application to orchestrate complex workflows, modify 
		system configurations, and test your images without the need for additional devops scripts or code. 
		This application manages and runs components that implement its declarative document schema.</p><p>AWSTOE is a standalone application that Image Builder installs on its build and test instances when you 
		create an image. You can also install it manually on EC2 instances to create your own custom components. 
		It doesn't require any additional setup, and can also run on premises.</p><div class="highlights"><h6>Contents</h6><ul><li><p><a href="#toe-downloads">AWSTOE downloads</a></p></li><li><p><a href="#toe-supported-regions">Supported Regions</a></p></li><li><p><a href="#toe-commands">AWSTOE command reference</a></p></li><li><p><a href="./toe-get-started.html">Manual set up to develop custom components with AWSTOE</a></p></li><li><p><a href="./toe-use-documents.html">Use the AWSTOE component document framework for custom components</a></p></li><li><p><a href="./toe-action-modules.html">Action modules supported by AWSTOE 
			component manager</a></p></li><li><p><a href="./toe-run-config-input.html">Configure input for the AWSTOE run command</a></p></li></ul></div>
		<h2 id="toe-downloads">AWSTOE downloads</h2>
		<p>To install AWSTOE, choose the download link for your architecture and platform. If you attach to 
			a VPC endpoint for your service (Image Builder, for example), it must have a custom endpoint policy attached 
			that includes access to the S3 bucket for AWSTOE downloads. Otherwise, your build and test instances 
			will not be able to download the bootstrap script (<code>bootstrap.sh</code>) and install 
			the AWSTOE application. For more information see <a href="./vpc-interface-endpoints.html#vpc-endpoint-policy">Create a VPC endpoint policy for
                Image Builder</a>.</p>
		
		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>AWS is phasing out support for TLS versions 1.0 and 1.1. To access the S3 bucket 
		for AWSTOE downloads, your client software must use TLS version 1.2 or later. For more 
		information, see this <a href="https://aws.amazon.com/blogs/security/tls-1-2-required-for-aws-endpoints/" rel="noopener noreferrer" target="_blank"><span>AWS Security Blog post</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
		
	    <div class="table-container"><div class="table-contents"><table id="w146aac13c32b9b9"><thead>
	                <tr>
	                    <th>Architecture</th>
	                    <th>Platform</th>
	                    <th>Download link</th>
	                    <th>Example</th>
	                </tr>
	            </thead>
	                <tr>
	                    <td tabindex="-1">386</td>
	                    <td tabindex="-1">
	                    	<p>AL 2 and 2023</p>
	                    	<p>RHEL 7, 8, and 9</p>
	                    	<p>Ubuntu 16.04, 18.04, 20.04, 22.04, and 24.04</p>
	                    	<p>CentOS 7 and 8</p>
	                    	<p>SUSE 12 and 15</p>
	                    </td>
	                    <td tabindex="-1"><p><code class="code">https://awstoe-<code class="userinput">&lt;region&gt;</code>.s3.<code class="userinput">&lt;region&gt;</code>.amazonaws.com/latest/linux/386/awstoe</code></p>
	                    </td>
	                	<td tabindex="-1"><a href="https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/386/awstoe" rel="noopener noreferrer" target="_blank"><span>https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/386/awstoe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
	                </tr>

	                <tr>
	                    <td tabindex="-1">AMD64</td>
	                    <td tabindex="-1">
	                    	<p>AL 2 and 2023</p>
	                    	<p>RHEL 7, 8, and 9</p>
	                    	<p>Ubuntu 16.04, 18.04, 20.04, 22.04, and 24.04</p>
	                    	<p>CentOS 7 and 8</p>
	                    	<p>CentOS Stream 8</p>
	                    	<p>SUSE 12 and 15</p>
	                    </td>
	                    <td tabindex="-1"><code class="code">https://awstoe-<code class="userinput">&lt;region&gt;</code>.s3.<code class="userinput">&lt;region&gt;</code>.amazonaws.com/latest/linux/amd64/awstoe</code></td>
	                	<td tabindex="-1"><a href="https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/amd64/awstoe" rel="noopener noreferrer" target="_blank"><span>https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/amd64/awstoe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
	                </tr>
	            	
	            	<tr>
	            		<td tabindex="-1">AMD64</td>
	            		<td tabindex="-1">
	            			<p>macOS 10.14.x (Mojave), 10.15.x (Catalina), 11.x (Big Sur), 12.x (Monterey)</p>
	            		</td>
	            		<td tabindex="-1"><code class="code">https://awstoe-<code class="replaceable">region</code>.s3.<code class="replaceable">region</code>.amazonaws.com/latest/darwin/amd64/awstoe</code></td>
	            		<td tabindex="-1"><a href="https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/darwin/amd64/awstoe" rel="noopener noreferrer" target="_blank"><span>https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/darwin/amd64/awstoe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
	            	</tr>
	            	
	            	<tr>
	            		<td tabindex="-1">
	            			<p>AMD64</p>
	            		</td>
	            		<td tabindex="-1">
	            			<p>Windows Server 2012 R2, 2016, 2019, and 2022</p>
	            		</td>
	            		<td tabindex="-1">
	            			<p>
	            				<code class="code">https://awstoe-<code class="userinput">&lt;region&gt;</code>.s3.<code class="userinput">&lt;region&gt;</code>.amazonaws.com/latest/windows/amd64/awstoe.exe</code></p>
	            		</td>
	            		<td tabindex="-1"><a href="https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/windows/amd64/awstoe.exe" rel="noopener noreferrer" target="_blank"><span>https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/windows/amd64/awstoe.exe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
	            	</tr>
	            	
	            	
	                <tr>
	                    <td tabindex="-1">ARM64</td>
	                	<td tabindex="-1">
	                		<p>AL 2 and 2023</p>
	                		<p>RHEL 7, 8, and 9</p>
	                		<p>Ubuntu 16.04, 18.04, 20.04, 22.04, and 24.04</p>
	                		<p>CentOS 7 and 8</p>
	                		<p>CentOS Stream 8</p>
	                		<p>SUSE 12 and 15</p>
	                	</td>
	                    <td tabindex="-1"><code class="code">https://awstoe-<code class="userinput">&lt;region&gt;</code>.s3.<code class="userinput">&lt;region&gt;</code>.amazonaws.com/latest/linux/arm64/awstoe</code></td>
	                	<td tabindex="-1"><a href="https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/arm64/awstoe" rel="noopener noreferrer" target="_blank"><span>https://awstoe-us-east-1.s3.us-east-1.amazonaws.com/latest/linux/arm64/awstoe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></td>
	                </tr>
	            	
	            	
	            </table></div></div>
	 
		<h2 id="toe-supported-regions">Supported Regions</h2>
	
	    <p>AWSTOE is supported as a standalone application in the following Regions.</p>
		
	    <div class="table-container"><div class="table-contents"><table id="w146aac13c32c11b5"><thead>
	                <tr>
	                    <th>AWS Region name</th>
	                	<th>AWS Region</th>
	                </tr>
	            </thead>
	            	
	                <tr>
	                    <td tabindex="-1">
	                        <p>US East (Ohio)</p>
	                    </td>
	                    <td tabindex="-1">
	                        <p>us-east-2</p>
	                    </td>
	                </tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>US East (N. Virginia)</p>
	                    </td>
	                    <td tabindex="-1">
	                        <p>us-east-1</p>
	                    </td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>AWS GovCloud (US-East)</p>
	            		</td>
	            		<td tabindex="-1">
	            			<p>us-gov-east-1</p>
	            		</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>AWS GovCloud (US-West)</p>
	            		</td>
	            		<td tabindex="-1">
	            			<p>us-gov-west-1</p>
	            		</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>US West (N. California)</p>
	                    </td>
	                    <td tabindex="-1">us-west-1</td>
	                </tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>US West (Oregon)</p>
	                    </td>
	                    <td tabindex="-1">us-west-2</td>
	                </tr>

	            	
	            	<tr>
	                    <td tabindex="-1">
	                        <p>Africa (Cape Town)</p>
	                    </td>
	                    <td tabindex="-1">af-south-1</td>
	                </tr>

	            	
	                <tr>
	                    <td tabindex="-1">
	                        <p>Asia Pacific (Hong Kong)</p>
	                    </td>
	                    <td tabindex="-1">ap-east-1</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Asia Pacific (Osaka)</p>
	            		</td>
	            		<td tabindex="-1">ap-northeast-3</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Asia Pacific (Seoul)</p>
	                    </td>
	                    <td tabindex="-1">ap-northeast-2</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Asia Pacific (Mumbai)</p>
	            		</td>
	            		<td tabindex="-1">ap-south-1</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Asia Pacific (Hyderabad)</p>
	            		</td>
	            		<td tabindex="-1">ap-south-2</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Asia Pacific (Singapore)</p>
	                    </td>
	                    <td tabindex="-1">ap-southeast-1</td>
	                </tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Asia Pacific (Sydney)</p>
	                    </td>
	                    <td tabindex="-1">ap-southeast-2</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Asia Pacific (Jakarta)</p>
	            		</td>
	            		<td tabindex="-1">ap-southeast-3</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Asia Pacific (Tokyo)</p>
	                    </td>
	                    <td tabindex="-1">ap-northeast-1</td>
	                </tr>

					
	            	<tr>
	                    <td tabindex="-1">
	                        <p>Canada (Central)</p>
	                    </td>
	                    <td tabindex="-1">ca-central-1</td>
	                </tr>
	            	
	            	
	                <tr>
	                    <td tabindex="-1">
	                        <p>Europe (Frankfurt)</p>
	                    </td>
	                    <td tabindex="-1">eu-central-1</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Europe (Zurich)</p>
	            		</td>
	            		<td tabindex="-1">eu-central-2</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Europe (Stockholm)</p>
	            		</td>
	            		<td tabindex="-1">eu-north-1</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Europe (Milan)</p>
	                    </td>
	                    <td tabindex="-1">eu-south-1</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Europe (Spain)</p>
	            		</td>
	            		<td tabindex="-1">eu-south-2</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Europe (Ireland)</p>
	            		</td>
	            		<td tabindex="-1">eu-west-1</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Europe (London)</p>
	            		</td>
	            		<td tabindex="-1">eu-west-2</td>
	            	</tr>
	                <tr>
	                    <td tabindex="-1">
	                        <p>Europe (Paris)</p>
	                    </td>
	                    <td tabindex="-1">eu-west-3</td>
	                </tr>

					
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Israel (Tel Aviv)</p>
	            		</td>
	            		<td tabindex="-1">il-central-1</td>
	            	</tr>
	            	
	            	
	                <tr>
	                    <td tabindex="-1">
	                        <p>Middle East (UAE)</p>
	                    </td>
	                    <td tabindex="-1">me-central-1</td>
	                </tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>Middle East (Bahrain)</p>
	            		</td>
	            		<td tabindex="-1">me-south-1</td>
	            	</tr>

	            	
	            	<tr>
	                    <td tabindex="-1">
	                        <p>South America (São Paulo)</p>
	                    </td>
	                    <td tabindex="-1">sa-east-1</td>
	                </tr>

					
	            	<tr>
	            		<td tabindex="-1">
	            			<p>China (Beijing)</p>
	            		</td>
	            		<td tabindex="-1">cn-north-1</td>
	            	</tr>
	            	<tr>
	            		<td tabindex="-1">
	            			<p>China (Ningxia)</p>
	            		</td>
	            		<td tabindex="-1">cn-northwest-1</td>
	            	</tr>	
	            </table></div></div>
	 
	<h2 id="toe-commands">AWSTOE command reference</h2>
	<p>AWSTOE is a command line component management application that runs on Amazon EC2 instances. 
		When Image Builder launches an EC2 build or test instance, it installs AWSTOE on the instance. Then it 
		runs AWSTOE commands in the AWS CLI to install or validate the components that are specified 
		in the image or container recipe.</p>
	<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Some AWSTOE action modules require elevated permissions to run on a Linux server. 
				To use elevated permissions, prefix the command syntax with <b>sudo</b>, or run the 
				<b>sudo su</b> command one time when you log in before running the 
				commands linked below. For more information about AWSTOE action modules, see 
				<a href="./toe-action-modules.html">Action modules supported by AWSTOE 
			component manager</a>.</p></div></div>
	
	<div class="variablelist">
		 
		 
	<dl>
			<dt><i><span class="term"><b><a href="#cmd-run">run</a></b></span></i></dt>
			<dd>
				<p>Use the <b>run</b> command to run the YAML document 
					scripts for one or more component documents.</p>
			</dd>
		
			<dt><i><span class="term"><b><a href="#cmd-validate">validate</a></b></span></i></dt>
			<dd>
				<p>Run the <b>validate</b> command to validate the YAML 
					document syntax for one or more component documents.</p>
			</dd>
		</dl></div>

	  
	
	
	
	 
		<h3 id="cmd-run">awstoe run command</h3>
		<p>This command runs the YAML component document scripts in the order 
			in which they are included in the configuration file specified by the 
			<code class="code">--config</code> parameter, or the list of component documents 
			specified by the <code class="code">--documents</code> parameter.</p>
		<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You must specify exactly one of the following parameters, never both:</p><p>--config</p><p>--documents</p></div></div>
		
		
		
		 
			<h4 id="run-syntax">Syntax</h4>
			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (none)--><code class="nohighlight">awstoe run [--config &lt;file path&gt;] [--cw-ignore-failures &lt;?&gt;] 
      [--cw-log-group &lt;?&gt;] [--cw-log-region <code class="replaceable">us-west-2</code>] [--cw-log-stream &lt;?&gt;] 
      [--document-s3-bucket-owner &lt;owner&gt;] [--documents &lt;file path,file path,...&gt;] 
      [--execution-id &lt;?&gt;] [--log-directory &lt;file path&gt;] 
      [--log-s3-bucket-name &lt;name&gt;] [--log-s3-bucket-owner &lt;owner&gt;] 
      [--log-s3-key-prefix &lt;?&gt;] [--parameters <code class="replaceable">name1</code>=<code class="replaceable">value1</code>,<code class="replaceable">name2</code>=<code class="replaceable">value2</code>...] 
      [--phases &lt;phase name&gt;] [--state-directory &lt;directory path&gt;] [--version &lt;?&gt;] 
      [--help] [--trace]</code></pre>
		 
		 
			<h4 id="run-parameters">Parameters and options</h4>
			
			<div class="variablelist">
				<h6>Parameters</h6>
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 

				 
				 

				 			
				 
				 
				 
			
			<dl>
					<dt><b><span class="term">--config <code class="replaceable"><code>./config-example.json</code></code></span></b></dt>
					<dd>
						<p>Short form: -c <code class="replaceable"><code>./config-example.json</code></code></p>
						<p>The configuration file <em>(conditional)</em>. 
							This parameter contains the file location for the JSON file that contains 
							configuration settings for the components this command is running. If you 
							specify <b>run</b> command settings in a configuration file, 
							you must not specify the <code class="code">--documents</code> parameter. For more 
							information about input configuration, see <a href="./toe-run-config-input.html">Configure input for the AWSTOE run command</a>.</p>
						<p>Valid locations include:</p>
						<div class="itemizedlist">
							 
							 
						<ul class="itemizedlist"><li class="listitem">
								<p>A local file path (<code class="replaceable"><code>./config-example.json</code></code>)</p>
							</li><li class="listitem">
								<p>An S3 URI (<code class="code">s3://<code class="replaceable">bucket/key</code></code>)</p>
							</li></ul></div>
					</dd>
				
					<dt><b><span class="term">--cw-ignore-failures</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>Ignore logging failures from the CloudWatch Logs.</p>
					</dd>
				
					<dt><b><span class="term">--cw-log-group</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>The <code class="code">LogGroup</code> name for the CloudWatch Logs.</p>
					</dd>
				
					<dt><b><span class="term">--cw-log-region</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>The AWS Region that applies to the CloudWatch Logs.</p>
					</dd>
				
					<dt><b><span class="term">--cw-log-stream</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>The <code class="code">LogStream</code> name for the CloudWatch Logs, 
						that directs AWSTOE where to stream the <code>console.log</code> file.</p>
					</dd>
				
					<dt><b><span class="term">--document-s3-bucket-owner</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>The account ID of the bucket owner for S3 URI-based documents.</p>
					</dd>
				
					<dt><b><span class="term">--documents <code class="replaceable"><code>./doc-1.yaml</code>,<code>./doc-n.yaml</code></code></span></b></dt>
					<dd>
						<p>Short form: -d <code class="replaceable"><code>./doc-1.yaml</code></code>,<code class="replaceable"><code>./doc-n</code></code></p>
						<p>The component documents <em>(conditional)</em>. 
							This parameter contains a comma-separated list of file locations for the 
							YAML component documents to run. If you specify YAML documents for the 
							<b>run</b> command using the <code class="code">--documents</code> parameter, 
							you must not specify the <code class="code">--config</code> parameter.</p>
						<p>Valid locations include:</p>
						<div class="itemizedlist">
							 
							 
							 
						<ul class="itemizedlist"><li class="listitem">
								<p>local file paths (<code class="replaceable">./component-doc-example.yaml</code>).</p>
							</li><li class="listitem">
								<p>S3 URIs (<code class="code">s3://<code class="replaceable">bucket/key</code></code>).</p>
							</li><li class="listitem">
								<p>Image Builder component build version ARNs 
									(arn:aws:imagebuilder:us-west-<code class="replaceable">2:123456789012</code>:component/<code class="replaceable">my-example-component</code>/2021.12.02/1).</p>
							</li></ul></div>
						<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>There are no spaces between items in the list, only commas.</p></div></div>
					</dd>
				
					<dt><b><span class="term">--execution-id</span></b></dt>
					<dd>
						<p>Short form: -i</p>
						<p>This is the unique ID that applies to the execution of the current 
				<b>run</b> command. This ID is included in output and log file names, to uniquely 
				identify those files, and link them to the current command execution. If this setting is left 
				out, AWSTOE generates a GUID.</p>
					</dd>
				
					<dt><b><span class="term">--log-directory</span></b></dt>
					<dd>
						<p>Short form: -l</p>
						<p>The destination directory where AWSTOE stores all of the 
							log files from this command execution. By default, this 
							directory is located inside of the following parent directory: 
							<code class="code">TOE_&lt;DATETIME&gt;_&lt;EXECUTIONID&gt;</code>. If you do not 
							specify the log directory, AWSTOE uses the current working 
							directory (<code class="code">.</code>).</p>
					</dd>
				
					<dt><b><span class="term">--log-s3-bucket-name</span></b></dt>
					<dd>
						<p>Short form: -b</p>
						<p>If component logs are stored in Amazon S3 (recommended), AWSTOE uploads the 
				component application logs to the S3 bucket named in this parameter.</p>
					</dd>
				
					<dt><b><span class="term">--log-s3-bucket-owner</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>If component logs are stored in Amazon S3 (recommended), this is the 
				owner account ID for the bucket where AWSTOE writes the log files.</p>
					</dd>
				
					<dt><b><span class="term">--log-s3-key-prefix</span></b></dt>
					<dd>
						<p>Short form: -k</p>
						<p>If component logs are stored in Amazon S3 (recommended), this is the 
				S3 object key prefix for the log location in the bucket.</p>
					</dd>
				
					<dt><b><span class="term">--parameters <code class="replaceable">name1</code>=<code class="replaceable">value1</code>,<code class="replaceable">name2</code>=<code class="replaceable">value2</code>...</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>Parameters are mutable variables that are defined in the component 
							document, with settings that the calling application can provide at 
							runtime.</p>
					</dd>
				
					<dt><b><span class="term">--phases</span></b></dt>
					<dd>
						<p>Short form: -p</p>
						<p>A comma-separated list that specifies which phases to run from the YAML component 
							documents. If a component document includes additional phases, those will  
							not run.</p>
					</dd>
				
					<dt><b><span class="term">--state-directory</span></b></dt>
					<dd>
						<p>Short form: -s</p>
						<p>The file path where state tracking files are stored.</p>
					</dd>
				
					<dt><b><span class="term">--version</span></b></dt>
					<dd>
						<p>Short form: -v</p>
						<p>Specifies the component application version.</p>
					</dd>
				</dl></div>
			
			<div class="variablelist">
				<h6>Options</h6>
				 
				 			
			<dl>
					<dt><b><span class="term">--help</span></b></dt>
					<dd>
						<p>Short form: -h</p>
						<p>Displays a help manual for using the component management 
							application options.</p>
					</dd>
				
					<dt><b><span class="term">--trace</span></b></dt>
					<dd>
						<p>Short form: -t</p>
						<p>Enables verbose logging to the console.</p>
					</dd>
				</dl></div>
		 

	 

	 
		<h3 id="cmd-validate">awstoe validate command</h3>
		<p>When you run this command, it validates the YAML document syntax for each 
			of the component documents specified by the <code class="code">--documents</code> parameter.</p>
		
		 
			<h4 id="validate-syntax">Syntax</h4>
			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (none)--><code class="nohighlight">awstoe validate [--document-s3-bucket-owner &lt;owner&gt;] 
      --documents &lt;file path,file path,...&gt; [--help] [--trace]</code></pre>
		 
		 
			<h4 id="validate-parameters">Parameters and options</h4>
			<div class="variablelist">
				<h6>Parameters</h6>
				 
				 
			<dl>
					<dt><b><span class="term">--document-s3-bucket-owner</span></b></dt>
					<dd>
						<p>Short form: N/A</p>
						<p>Source account ID of S3 URI-based documents provided.</p>
					</dd>
				
					<dt><b><span class="term">--documents <code class="replaceable"><code>./doc-1.yaml</code>,<code>./doc-n.yaml</code></code></span></b></dt>
					<dd>
						<p>Short form: -d <code class="replaceable"><code>./doc-1.yaml</code></code>,<code class="replaceable"><code>./doc-n</code></code></p>
						<p>The component documents <em>(required)</em>. 
							This parameter contains a comma-separated list of file locations for the 
							YAML component documents to run. Valid locations include:</p>
						<div class="itemizedlist">
							 
							 
							 
						<ul class="itemizedlist"><li class="listitem">
								<p>local file paths (<code class="replaceable">./component-doc-example.yaml</code>)</p>
							</li><li class="listitem">
								<p>S3 URIs (<code class="code">s3://<code class="replaceable">bucket/key</code></code>)</p>
							</li><li class="listitem">
								<p>Image Builder component build version ARNs 
									(arn:aws:imagebuilder:us-west-<code class="replaceable">2:123456789012</code>:component/<code class="replaceable">my-example-component</code>/2021.12.02/1)</p>
							</li></ul></div>
						<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>There are no spaces between items in the list, only commas.</p></div></div>
					</dd>
				</dl></div>
			<div class="variablelist">
				<h6>Options</h6>
				 
				 
				
			<dl>
					<dt><b><span class="term">--help</span></b></dt>
					<dd>
						<p>Short form: -h</p>
						<p>Displays a help manual for using the component management 
							application options.</p>
					</dd>
				
					<dt><b><span class="term">--trace</span></b></dt>
					<dd>
						<p>Short form: -t</p>
						<p>Enables verbose logging to the console.</p>
					</dd>
				</dl></div>
		 
		
	 
	
<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./create-component.html">Create custom components with Image Builder</div><div id="next" class="next-link" accesskey="n" href="./toe-get-started.html">Manual set up</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Image Builder&amp;topic_url=https://docs.aws.amazon.com/en_us/imagebuilder/latest/userguide/toe-component-manager.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Image Builder&amp;topic_url=https://docs.aws.amazon.com/en_us/imagebuilder/latest/userguide/toe-component-manager.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>